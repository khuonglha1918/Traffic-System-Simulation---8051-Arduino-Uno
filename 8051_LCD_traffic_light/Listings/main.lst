C51 COMPILER V9.60.7.0   MAIN                                                              08/20/2025 13:00:02 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_C\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.
                    -lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <intrins.h>
   3          #include "../Lib/delay.h"
   4          #include "../Lib/lcd.h"
   5          #include "../Lib/pwm.h"
   6          
   7          #define sevenSegPort P0
   8          
   9          sbit A1 = P2^2;
  10          sbit B1 = P2^3;
  11          sbit C1 = P2^4;
  12          sbit greenLED = P1^0;
  13          sbit yellowLED = P1^1;
  14          sbit redLED = P1^2;
  15          
  16          unsigned char code sevenSeg[10] = {0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F};
  17          unsigned char counter = 30;
  18          unsigned int greenSignal = 1;
  19          
  20          void display7seg(unsigned char num);
  21          void signals(unsigned char state);
  22          
  23          int main() {
  24   1        EA = 1;
  25   1        ET0 = 1;
  26   1        Timer0_Init();
  27   1        LCD_Init();
  28   1        while(1) {
  29   2          if (counter > 5 && greenSignal) {
  30   3            signals(2);
  31   3          } else if (counter <= 5 && counter > 0 && greenSignal) {
  32   3            signals(1);
  33   3          } else if (counter > 0 && !greenSignal) {
  34   3            signals(0);
  35   3          }
  36   2          if (counter == 0) {
  37   3            counter = 30;
  38   3            greenSignal = !greenSignal;
  39   3          }
  40   2          display7seg(counter);
  41   2          counter--;
  42   2          if (greenSignal) {
  43   3            servo_spin(10);
  44   3          } else {
  45   3            servo_spin(5);
  46   3          }
  47   2        }
  48   1        return 0;
  49   1      }
  50          
  51          void display7seg(unsigned char num) {
  52   1        unsigned int i;
  53   1        unsigned char tens = num/10;
  54   1        unsigned char units = num%10;
C51 COMPILER V9.60.7.0   MAIN                                                              08/20/2025 13:00:02 PAGE 2   

  55   1        for (i = 0; i < 500; i++) {
  56   2          sevenSegPort = sevenSeg[tens];
  57   2          A1 = 1;
  58   2          B1 = 0;
  59   2          C1 = 0;
  60   2          delay(1);
  61   2          A1 = 1;
  62   2          B1 = 1;
  63   2          C1 = 1;
  64   2          sevenSegPort = sevenSeg[units];
  65   2          A1 = 0;
  66   2          B1 = 0;
  67   2          C1 = 0;
  68   2          delay(1);
  69   2          A1 = 1;
  70   2          B1 = 1;
  71   2          C1 = 1;
  72   2        }
  73   1      }
  74          
  75          void signals(unsigned char state) {
  76   1        if (state == 0) {
  77   2          redLED = 1;
  78   2          greenLED = 0;
  79   2          yellowLED = 0;
  80   2          cmd(0x01);
  81   2          showlines(0, 6, "STOP");
  82   2        } else if (state == 1) {
  83   2          yellowLED = 1;
  84   2          greenLED = 0;
  85   2          redLED = 0;
  86   2          cmd(0x01);
  87   2          showlines(0, 3, "Slow Down");
  88   2        } else if (state == 2) {
  89   2          greenLED = 1;
  90   2          yellowLED = 0;
  91   2          redLED = 0;
  92   2          cmd(0x01);
  93   2          showlines(0, 3, "Welcome to");
  94   2          showlines(1, 0, "Hotel California");
  95   2        }
  96   1      }
*** WARNING C294 IN LINE 48 OF main.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    685    ----
   CONSTANT SIZE    =     53    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7      22
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
